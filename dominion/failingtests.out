        -:    0:Source:adventurer.c
        -:    0:Graph:adventurer.gcno
        -:    0:Data:-
        -:    0:Runs:0
        -:    0:Programs:0
        -:    1:#include "cards.h"
        -:    2:#include "dominion.h"
        -:    3:#include "dominion_helpers.h"
        -:    4:#include "stdio.h"
        -:    5:
    #####:    6:int adventurer_action (int drawntreasure, struct gameState *state, int currentPlayer){
    #####:    7:  int temphand[MAX_HAND];// moved above the if statement
    #####:    8:  int z = 0;// this is the counter for the temp hand
    #####:    9:  int cardDrawn;
    #####:   10:  while(drawntreasure<2){
    #####:   11:    if (state->deckCount[currentPlayer] <1){//if the deck is empty we need to shuffle discard and add to deck
    #####:   12:      shuffle(currentPlayer, state);
    #####:   13:    }
    #####:   14:    drawCard(currentPlayer, state); //t
    #####:   15:    cardDrawn = state->hand[currentPlayer][state->handCount[currentPlayer]-1];//top card of hand is most recently drawn card.
    #####:   16:    if (cardDrawn == copper || cardDrawn == silver || cardDrawn == gold)
    #####:   17:    drawntreasure++; //t
        -:   18:    else{
    #####:   19:      temphand[z]=cardDrawn;
    #####:   20:      state->handCount[currentPlayer]--; //t //this should just remove the top card (the most recently drawn one).
    #####:   21:      z++;
        -:   22:    }
    #####:   23:  }
    #####:   24:  while(z-1>=0){
    #####:   25:    state->discard[currentPlayer][state->discardCount[currentPlayer]++]=temphand[z-1];//t  // discard all cards in play that have been drawn
    #####:   26:    z=z-1;
    #####:   27:  }
    #####:   28:  return 0;
        -:   29:}
